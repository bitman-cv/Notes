课程主页：[&#25805;&#20316;&#31995;&#32479;&#65306;&#35774;&#35745;&#19982;&#23454;&#29616; (2022 &#26149;&#23395;&#23398;&#26399;)](https://jyywiki.cn/OS/2022/)

操作系统上的程序：就是一个状态机。

状态：内存M+寄存器R

状态迁移：执行一条指令

C语言状态的切换，就是入栈出栈

syscall：用户态程序将所有的状态交给操作系统，操作系统执行其功能。

程序 = 计算+syscall

gcc --verbose

gcc -static

    gcc -E -> .i 预处理
    gcc -S -> .s 编译
    gcc -c -> .o 汇编
    ld 链接

objdump

gcc -c a.c && objdump -d a.o && ld a.o



四个系统调用API:

choose(xs):返回xs中的一个随机选项

write(s)：输出字符串s

swawn(fn)：创建一个可运行的状态机fn

sched()：随机切换到任意状态机执行


